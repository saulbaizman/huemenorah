<!--

Two screen dimensions:
 _ 768 x 1366
 _ 900 x 1440

-->

<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>HueMenorah Simulator</title>

    <style type="text/css">
        body {
            margin: 0 ;
        }
        img {
            width: 120px;
        }
        #img_fg0, #img_bg0, #screen0 {
            position: fixed;
            top: 0 ;
            left: 0 ;
            /* height: 10%;*/
        }
        #img_fg1, #img_bg1, #screen1 {
            position: fixed;
            top: 0 ;
            left: 121px ;
            /* height: 10%;*/
        }
        #img_fg2, #img_bg2, #screen2 {
            position: fixed;
            top: 0 ;
            left: 242px ;
            /* height: 10%;*/
        }
        #img_fg3, #img_bg3, #screen3 {
            position: fixed;
            top: 0 ;
            left: 363px ;
            /* height: 10%;*/
        }
        #img_fg4, #img_bg4, #screen4 {
            position: fixed;
            top: 0 ;
            left: 484px ;
            /* height: 10%;*/
        }
        #img_fg5, #img_bg5, #screen5 {
            position: fixed;
            top: 0 ;
            left: 605px ;
            /* height: 10%;*/
        }
        #img_fg6, #img_bg6, #screen6 {
            position: fixed;
            top: 0 ;
            left: 726px ;
            /* height: 10%;*/
        }
        #img_fg7, #img_bg7, #screen7 {
            position: fixed;
            top: 0 ;
            left: 847px ;
            /* height: 10%;*/
        }
        #img_fg8, #img_bg8, #screen8 {
            position: fixed;
            top: 0 ;
            left: 968px ;
            /* height: 10%;*/
        }


        #img_bg0,
        #img_bg1,
        #img_bg2,
        #img_bg3,
        #img_bg4,
        #img_bg5,
        #img_bg6,
        #img_bg7,
        #img_bg8 {
            z-index: -1;
        }

        #screen0,
        #screen1,
        #screen2,
        #screen3,
        #screen4,
        #screen5,
        #screen6,
        #screen7,
        #screen8 {
            z-index: 5 ;
        }

        .screen_label {
            padding-top: 5px ;
            padding-left: 10px ;
            font-size: 3em ;
            color: rgba(255,255,255,.8);
            font-family: Helvetica;
            font-weight: bold;
        }



    </style>

    <!-- load Firebase library -->
    
    <script src="https://cdn.firebase.com/js/client/2.3.1/firebase.js"></script>

    <!-- load jQuery library -->

    <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.4/jquery.min.js"></script>

    <!--<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>-->

    <!-- Commands go here. -->

    <script type="text/javascript">

        var fb_url = 'https://huemenorah.firebaseio.com/' ;
        var image_folder = 'images/' ;

        var image_database = new Firebase(fb_url) ;

            image_database.child( '0' ).on("value", function ( client_setting ) {
                console.log( 'screen 0 changed.')

                var image_url = client_setting.val().path ;
                console.log("path: " + image_url);  //

                var transition = client_setting.val().transition ;
                console.log("transition: " + transition);  //

                var delay = client_setting.val().delay ;
                console.log("delay: " + delay);  //

                if ( jQuery('#img_fg0' ).length ) {
                    // Load new image, fade the old one, and swap IDs
                    var img = jQuery("<img id='img_bg0' />").attr('src', image_folder + image_url )
                            .on('load', function() {
                                if (!this.complete || typeof this.naturalWidth == "undefined" || this.naturalWidth == 0) {
                                    console.error('broken image!'); // image did not load correctly!
                                } else {
                                    // Image loaded successfully.
                                    jQuery('body').append( img ) ;                  // add new image to the DOM
                                    jQuery('#img_fg0').delay(delay*1000).fadeOut(1000, function () {   // fade out the foreground image
                                        jQuery('#img_fg0').remove();                 // remove the foreground image from the DOM
                                        jQuery('#img_bg0').attr('id','img_fg0') ;     // make the bg image the new fg image
                                    });
                                }
                            });
                }

                else {
                    // Just load an image.
                    var img = jQuery("<img id='img_fg0' />").attr('src', image_folder + image_url )
                            .on('load', function() {
                                if (!this.complete || typeof this.naturalWidth == "undefined" || this.naturalWidth == 0) {
                                    console.error('broken image!'); // image did not load correctly!
                                } else {
                                    // Image loaded successfully.
                                    jQuery('body').append( img );                   // add new image to the DOM
                                }
                            });

                }


            });

        image_database.child( '1' ).on("value", function ( client_setting ) {
            console.log( 'screen 1 changed.')
            var image_url = client_setting.val().path ;
            console.log("path: " + image_url);  //

            var transition = client_setting.val().transition ;
            console.log("transition: " + transition);  //

            var delay = client_setting.val().delay ;
            console.log("delay: " + delay);  //

            if ( jQuery('#img_fg1' ).length ) {
                // Load new image, fade the old one, and swap IDs
                var img = jQuery("<img id='img_bg1' />").attr('src', image_folder + image_url )
                        .on('load', function() {
                            if (!this.complete || typeof this.naturalWidth == "undefined" || this.naturalWidth == 0) {
                                console.error('broken image!'); // image did not load correctly!
                            } else {
                                // Image loaded successfully.
                                jQuery('body').append( img ) ;                  // add new image to the DOM
                                jQuery('#img_fg1').delay(delay*1000).fadeOut(1000, function () {   // fade out the foreground image
                                    jQuery('#img_fg1').remove();                 // remove the foreground image from the DOM
                                    jQuery('#img_bg1').attr('id','img_fg1') ;     // make the bg image the new fg image
                                });
                            }
                        });
            }

            else {
                // Just load an image.
                var img = jQuery("<img id='img_fg1' />").attr('src', image_folder + image_url )
                        .on('load', function() {
                            if (!this.complete || typeof this.naturalWidth == "undefined" || this.naturalWidth == 0) {
                                console.error('broken image!'); // image did not load correctly!
                            } else {
                                // Image loaded successfully.
                                jQuery('body').append( img );                   // add new image to the DOM
                            }
                        });

            }


        });

        image_database.child( '2' ).on("value", function ( client_setting ) {
            console.log( 'screen 2 changed.')
            var image_url = client_setting.val().path ;
            console.log("path: " + image_url);  //

            var transition = client_setting.val().transition ;
            console.log("transition: " + transition);  //

            var delay = client_setting.val().delay ;
            console.log("delay: " + delay);  //

            if ( jQuery('#img_fg2' ).length ) {
                // Load new image, fade the old one, and swap IDs
                var img = jQuery("<img id='img_bg2' />").attr('src', image_folder + image_url )
                        .on('load', function() {
                            if (!this.complete || typeof this.naturalWidth == "undefined" || this.naturalWidth == 0) {
                                console.error('broken image!'); // image did not load correctly!
                            } else {
                                // Image loaded successfully.
                                jQuery('body').append( img ) ;                  // add new image to the DOM
                                jQuery('#img_fg2').delay(delay*1000).fadeOut(1000, function () {   // fade out the foreground image
                                    jQuery('#img_fg2').remove();                 // remove the foreground image from the DOM
                                    jQuery('#img_bg2').attr('id','img_fg2') ;     // make the bg image the new fg image
                                });
                            }
                        });
            }

            else {
                // Just load an image.
                var img = jQuery("<img id='img_fg2' />").attr('src', image_folder + image_url )
                        .on('load', function() {
                            if (!this.complete || typeof this.naturalWidth == "undefined" || this.naturalWidth == 0) {
                                console.error('broken image!'); // image did not load correctly!
                            } else {
                                // Image loaded successfully.
                                jQuery('body').append( img );                   // add new image to the DOM
                            }
                        });

            }


        });

        image_database.child( '3' ).on("value", function ( client_setting ) {
            console.log( 'screen 3 changed.')
            var image_url = client_setting.val().path ;
            console.log("path: " + image_url);  //

            var transition = client_setting.val().transition ;
            console.log("transition: " + transition);  //

            var delay = client_setting.val().delay ;
            console.log("delay: " + delay);  //

            if ( jQuery('#img_fg3' ).length ) {
                // Load new image, fade the old one, and swap IDs
                var img = jQuery("<img id='img_bg3' />").attr('src', image_folder + image_url )
                        .on('load', function() {
                            if (!this.complete || typeof this.naturalWidth == "undefined" || this.naturalWidth == 0) {
                                console.error('broken image!'); // image did not load correctly!
                            } else {
                                // Image loaded successfully.
                                jQuery('body').append( img ) ;                  // add new image to the DOM
                                jQuery('#img_fg3').delay(delay*1000).fadeOut(1000, function () {   // fade out the foreground image
                                    jQuery('#img_fg3').remove();                 // remove the foreground image from the DOM
                                    jQuery('#img_bg3').attr('id','img_fg3') ;     // make the bg image the new fg image
                                });
                            }
                        });
            }

            else {
                // Just load an image.
                var img = jQuery("<img id='img_fg3' />").attr('src', image_folder + image_url )
                        .on('load', function() {
                            if (!this.complete || typeof this.naturalWidth == "undefined" || this.naturalWidth == 0) {
                                console.error('broken image!'); // image did not load correctly!
                            } else {
                                // Image loaded successfully.
                                jQuery('body').append( img );                   // add new image to the DOM
                            }
                        });

            }


        });

        image_database.child( '4' ).on("value", function ( client_setting ) {
            console.log( 'screen 4 changed.')
            var image_url = client_setting.val().path ;
            console.log("path: " + image_url);  //

            var transition = client_setting.val().transition ;
            console.log("transition: " + transition);  //

            var delay = client_setting.val().delay ;
            console.log("delay: " + delay);  //

            if ( jQuery('#img_fg4' ).length ) {
                // Load new image, fade the old one, and swap IDs
                var img = jQuery("<img id='img_bg4' />").attr('src', image_folder + image_url )
                        .on('load', function() {
                            if (!this.complete || typeof this.naturalWidth == "undefined" || this.naturalWidth == 0) {
                                console.error('broken image!'); // image did not load correctly!
                            } else {
                                // Image loaded successfully.
                                jQuery('body').append( img ) ;                  // add new image to the DOM
                                jQuery('#img_fg4').delay(delay*1000).fadeOut(1000, function () {   // fade out the foreground image
                                    jQuery('#img_fg4').remove();                 // remove the foreground image from the DOM
                                    jQuery('#img_bg4').attr('id','img_fg4') ;     // make the bg image the new fg image
                                });
                            }
                        });
            }

            else {
                // Just load an image.
                var img = jQuery("<img id='img_fg4' />").attr('src', image_folder + image_url )
                        .on('load', function() {
                            if (!this.complete || typeof this.naturalWidth == "undefined" || this.naturalWidth == 0) {
                                console.error('broken image!'); // image did not load correctly!
                            } else {
                                // Image loaded successfully.
                                jQuery('body').append( img );                   // add new image to the DOM
                            }
                        });

            }


        });

        image_database.child( '5' ).on("value", function ( client_setting ) {
            console.log( 'screen 5 changed.')
            var image_url = client_setting.val().path ;
            console.log("path: " + image_url);  //

            var transition = client_setting.val().transition ;
            console.log("transition: " + transition);  //

            var delay = client_setting.val().delay ;
            console.log("delay: " + delay);  //

            if ( jQuery('#img_fg5' ).length ) {
                // Load new image, fade the old one, and swap IDs
                var img = jQuery("<img id='img_bg5' />").attr('src', image_folder + image_url )
                        .on('load', function() {
                            if (!this.complete || typeof this.naturalWidth == "undefined" || this.naturalWidth == 0) {
                                console.error('broken image!'); // image did not load correctly!
                            } else {
                                // Image loaded successfully.
                                jQuery('body').append( img ) ;                  // add new image to the DOM
                                jQuery('#img_fg5').delay(delay*1000).fadeOut(1000, function () {   // fade out the foreground image
                                    jQuery('#img_fg5').remove();                 // remove the foreground image from the DOM
                                    jQuery('#img_bg5').attr('id','img_fg5') ;     // make the bg image the new fg image
                                });
                            }
                        });
            }

            else {
                // Just load an image.
                var img = jQuery("<img id='img_fg5' />").attr('src', image_folder + image_url )
                        .on('load', function() {
                            if (!this.complete || typeof this.naturalWidth == "undefined" || this.naturalWidth == 0) {
                                console.error('broken image!'); // image did not load correctly!
                            } else {
                                // Image loaded successfully.
                                jQuery('body').append( img );                   // add new image to the DOM
                            }
                        });

            }


        });

        image_database.child( '6' ).on("value", function ( client_setting ) {
            console.log( 'screen 6 changed.')
            var image_url = client_setting.val().path ;
            console.log("path: " + image_url);  //

            var transition = client_setting.val().transition ;
            console.log("transition: " + transition);  //

            var delay = client_setting.val().delay ;
            console.log("delay: " + delay);  //

            if ( jQuery('#img_fg6' ).length ) {
                // Load new image, fade the old one, and swap IDs
                var img = jQuery("<img id='img_bg6' />").attr('src', image_folder + image_url )
                        .on('load', function() {
                            if (!this.complete || typeof this.naturalWidth == "undefined" || this.naturalWidth == 0) {
                                console.error('broken image!'); // image did not load correctly!
                            } else {
                                // Image loaded successfully.
                                jQuery('body').append( img ) ;                  // add new image to the DOM
                                jQuery('#img_fg6').delay(delay*1000).fadeOut(1000, function () {   // fade out the foreground image
                                    jQuery('#img_fg6').remove();                 // remove the foreground image from the DOM
                                    jQuery('#img_bg6').attr('id','img_fg6') ;     // make the bg image the new fg image
                                });
                            }
                        });
            }

            else {
                // Just load an image.
                var img = jQuery("<img id='img_fg6' />").attr('src', image_folder + image_url )
                        .on('load', function() {
                            if (!this.complete || typeof this.naturalWidth == "undefined" || this.naturalWidth == 0) {
                                console.error('broken image!'); // image did not load correctly!
                            } else {
                                // Image loaded successfully.
                                jQuery('body').append( img );                   // add new image to the DOM
                            }
                        });

            }


        });

        image_database.child( '7' ).on("value", function ( client_setting ) {
            console.log( 'screen 7 changed.')
            var image_url = client_setting.val().path ;
            console.log("path: " + image_url);  //

            var transition = client_setting.val().transition ;
            console.log("transition: " + transition);  //

            var delay = client_setting.val().delay ;
            console.log("delay: " + delay);  //

            if ( jQuery('#img_fg7' ).length ) {
                // Load new image, fade the old one, and swap IDs
                var img = jQuery("<img id='img_bg7' />").attr('src', image_folder + image_url )
                        .on('load', function() {
                            if (!this.complete || typeof this.naturalWidth == "undefined" || this.naturalWidth == 0) {
                                console.error('broken image!'); // image did not load correctly!
                            } else {
                                // Image loaded successfully.
                                jQuery('body').append( img ) ;                  // add new image to the DOM
                                jQuery('#img_fg7').delay(delay*1000).fadeOut(1000, function () {   // fade out the foreground image
                                    jQuery('#img_fg7').remove();                 // remove the foreground image from the DOM
                                    jQuery('#img_bg7').attr('id','img_fg7') ;     // make the bg image the new fg image
                                });
                            }
                        });
            }

            else {
                // Just load an image.
                var img = jQuery("<img id='img_fg7' />").attr('src', image_folder + image_url )
                        .on('load', function() {
                            if (!this.complete || typeof this.naturalWidth == "undefined" || this.naturalWidth == 0) {
                                console.error('broken image!'); // image did not load correctly!
                            } else {
                                // Image loaded successfully.
                                jQuery('body').append( img );                   // add new image to the DOM
                            }
                        });

            }


        });

        image_database.child( '8' ).on("value", function ( client_setting ) {
            console.log( 'screen 8 changed.')
            var image_url = client_setting.val().path ;
            console.log("path: " + image_url);  //

            var transition = client_setting.val().transition ;
            console.log("transition: " + transition);  //

            var delay = client_setting.val().delay ;
            console.log("delay: " + delay);  //

            if ( jQuery('#img_fg8' ).length ) {
                // Load new image, fade the old one, and swap IDs
                var img = jQuery("<img id='img_bg8' />").attr('src', image_folder + image_url )
                        .on('load', function() {
                            if (!this.complete || typeof this.naturalWidth == "undefined" || this.naturalWidth == 0) {
                                console.error('broken image!'); // image did not load correctly!
                            } else {
                                // Image loaded successfully.
                                jQuery('body').append( img ) ;                  // add new image to the DOM
                                jQuery('#img_fg8').delay(delay*1000).fadeOut(1000, function () {   // fade out the foreground image
                                    jQuery('#img_fg8').remove();                 // remove the foreground image from the DOM
                                    jQuery('#img_bg8').attr('id','img_fg8') ;     // make the bg image the new fg image
                                });
                            }
                        });
            }

            else {
                // Just load an image.
                var img = jQuery("<img id='img_fg8' />").attr('src', image_folder + image_url )
                        .on('load', function() {
                            if (!this.complete || typeof this.naturalWidth == "undefined" || this.naturalWidth == 0) {
                                console.error('broken image!'); // image did not load correctly!
                            } else {
                                // Image loaded successfully.
                                jQuery('body').append( img );                   // add new image to the DOM
                            }
                        });

            }


        });

    </script>
</head>
<body>
<div id="screen0" class="screen_label">0</div>
<div id="screen1" class="screen_label">1</div>
<div id="screen2" class="screen_label">2</div>
<div id="screen3" class="screen_label">3</div>
<div id="screen4" class="screen_label">4</div>
<div id="screen5" class="screen_label">5</div>
<div id="screen6" class="screen_label">6</div>
<div id="screen7" class="screen_label">7</div>
<div id="screen8" class="screen_label">8</div>

</body>
</html>
